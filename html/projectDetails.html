<!DOCTYPE html>
<html lang="en" style="overflow: hidden;">

        <head>
            <meta charset="utf-8">
            <meta name="description" content="Home Page">
            <meta name="keywords" content="HTML, CSS, JavaScript">
            <meta name="author" content="Maneno Mgwami">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <!--  <meta http-equiv="refresh" content="60"> -->
            <title>Claim Management</title>
            <link href="../css/bootstrap.min.css" rel="stylesheet">
            <link href="../css/projectDetails.css" rel="stylesheet">
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">
        </head>

        <body>

            <header class="sticky-top">
                <nav class="navbar bg-light px-3 mb-3">
                    <a class="navbar-brand" href="home.html">Home</a>
                    <a class="btn btn-secondary btn-sm" href="project.html" role="button">All Projects</a>
                </nav>
                <div class="container-fluid">
                    <h1 id="projectTitle">Project Name</h1>
                    <div style="display: flex;justify-content: space-between; align-items: center;">
                        <div class="progress" style="flex-grow: 2; height: 13px;">
                            <div class="progress-bar bg-info progress-bar-striped" role="progressbar" aria-label="Example with label" style="width: 25%;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100">25%</div>
                        </div>
                        <div style="flex-grow: 1; display: flex; justify-content: right; gap: 10px;">

                            <div >
                                <button type="button" class="btn btn-outline-success btn-sm">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bookmark-check" viewBox="0 0 16 16">
                                        <path fill-rule="evenodd" d="M10.854 5.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 7.793l2.646-2.647a.5.5 0 0 1 .708 0z"/>
                                        <path d="M2 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v13.5a.5.5 0 0 1-.777.416L8 13.101l-5.223 2.815A.5.5 0 0 1 2 15.5V2zm2-1a1 1 0 0 0-1 1v12.566l4.723-2.482a.5.5 0 0 1 .554 0L13 14.566V2a1 1 0 0 0-1-1H4z"/>
                                    </svg>
                                    Close
                                </button>
                            </div>
                            <div >
                                <button type="button" class="btn btn-outline-danger btn-sm" id="deleteProjectButton" data-bs-toggle="modal" data-bs-target="#deleteProjectModal">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash" viewBox="0 0 16 16">
                                        <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                                        <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                    </svg>
                                    Delete
                                </button>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="container-fluid">
                    <ul class="nav nav-tabs">
                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="#projectDetailsDiv">Details</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#projectClaimsDiv">Claims</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#projectPCCDiv">PCC</a>
                        </li>
                    </ul>
                </div>

            </header>


            <div data-bs-spy="scroll" data-bs-target="#navbar-example2" data-bs-root-margin="0px 0px -40%" data-bs-smooth-scroll="true" class="scrollspy-example bg-light p-3 rounded-2" tabindex="0">

                <div id="projectDetailsDiv" class="container-fluid" style="height: 30rem;">
                    <div class="row row-cols-1 row-cols-md-3 g-4">
                        <div class="col">
                            <div class="card h-100" style="width: 18rem;">
                                <div class="card-body">
                                    <h5 class="card-title" >Duration: <small id="smallDuration">12</small></h5>
                                    <p class="card-subtitle">Extension: <small id="smallExtension">0</small></p>
                                    <p class="card-subtitle">Start Date: <small id="smallStartDate">12-12-2022</small></p>
                                    <p class="card-subtitle">Completion Date: <small id="smallCompletionDate">12-12-2022</small></p>
                                </div>
                            </div>
                        </div>

                        <div class="col">
                            <div class="card h-100" style="width: 18rem;">
                                <div class="card-body">
                                    <h5 class="card-title" >Contract Value: <small id="smallContractValue">12000000</small></h5>
                                    <p class="card-subtitle">Variance: <small id="smallVariance">0</small></p>
                                    <p class="card-subtitle">Currency: <small ID="smallCurrency">TZS</small></p>
                                </div>
                            </div>
                        </div>
                    </div>




                </div>

                <div id="projectClaimsDiv" class="container-fluid" style="height: 30rem;">


                    <caption>

                        <div style="display: flex;justify-content:space-between;align-items:center;">
                            <div>
                                <h3>List of Claims</h3>
                            </div>

                            <div>
                                <!-- Attach Claim modal -->
                                <button type="button" class="btn btn-outline-warning btn-sm" data-bs-toggle="modal" data-bs-target="#addClaimModal" >
                                    Add Claim
                                </button>
                            </div>

                        </div>

                        <!-- Claim Modal -->
                        <div class="modal fade" id="addClaimModal" tabindex="-1" aria-labelledby="exampleModalLabel1" aria-hidden="true">

                            <div class="modal-dialog modal-dialog-centered modal-dialog-scrollable modal-lg">

                                <div class="modal-content">

                                    <div class="modal-header">
                                        <h5 class="modal-title" id="exampleModalLabel1">New Claim</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>

                                    <div class="modal-body">

                                        <div class="row g-3"  name="addClaimForm" id="newClaim">

                                            <div class="col-12">
                                                <P id="projectTitleValue">Project Title</P>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="claimId" id="floatingClaimId" placeholder="ClaimID" required>
                                                    <label for="floatingClaimId">ClaimID</label>
                                                </div>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="claimCategory" id="floatingClaimCategory" placeholder="Claim Category" required>
                                                    <label for="floatingClaimCategory">Claim Category</label>
                                                </div>
                                            </div>

                                            <div class="col-12">
                                                <div class="form-floating">
                                                    <textarea class="form-control" name="claimDescription" placeholder="Claim Description" id="floatingClaimDescription" required></textarea>
                                                    <label for="floatingClaimDescription">Claim Description</label>
                                                </div>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-floating">
                                                    <input type="number" class="form-control" name="claimAmount" id="floatingClaimAmount" min="0" step="0.1" placeholder="Claim Amount" required>
                                                    <label for="floatingClaimAmount">Claim Amount</label>
                                                </div>
                                            </div>

                                            <div class="col-2">
                                                <div class="form-floating">
                                                    <input type="text" class="form-control" name="currency" id="floatingCurrency" placeholder="Currency" required>
                                                    <label for="floatingCurrency">Currency</label>
                                                </div>
                                            </div>

                                            <div class="col-6">
                                                <div class="form-floating">
                                                    <input type="number" min="0" step="1" class="form-control" name="claimExtension" id="floatingClaimExtension" placeholder="Claim Extension (Months)" required>
                                                    <label for="floatingClaimExtension">Claim Extension (Months)</label>
                                                </div>
                                            </div>

                                            <div class="col-12">
                                                <div class="form-floating">
                                                    <textarea class="form-control" name="claimCause" placeholder="Claim Cause" id="floatingClaimCause" required></textarea>
                                                    <label for="floatingClaimCause">Claim Cause</label>
                                                </div>
                                            </div>


                                            <div class="col-6">
                                                <select class="form-select" aria-label=".form-select-sm example" id="pccSelectModalId" onchange="pccSelected()">
                                                    <option selected>Fidic PCC</option>
                                                </select>
                                            </div>

                                            <div class="col-6">
                                                <select class="form-select" aria-label=".form-select-sm example" id="gccSelectModalId" onchange="gccSelected()">
                                                    <option selected>Fidic GCC</option>
                                                </select>
                                            </div>


                                        </div>
                                    </div>

                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-primary" id="saveButton" onclick="addClaim()" data-bs-dismiss="modal">Save</button>
                                    </div>

                                </div>

                            </div>

                        </div>

                    </caption>

                    <table class="table caption-top">
                        <thead class="table-success">
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Id</th>
                                <th scope="col">Category</th>
                                <th scope="col">Cause</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Currency</th>
                                <th scope="col">More</th>
                            </tr>
                        </thead>

                        <tbody id="claimTableBody">

                        </tbody>
                    </table>

                </div>

                <div id="projectPCCDiv" class="container-fluid" style="height: 30rem;">

                    <caption>

                        <div style="display: flex;justify-content:space-between;align-items:center;">
                            <div>
                                <h3>List of PCCs</h3>
                            </div>

                            <div>
                                <!-- Attach PCC modal -->
                                <button type="button" class="btn btn-outline-warning btn-sm" data-bs-toggle="modal" data-bs-target="#attachPCCModal" onclick="displayAllPCCs()">
                                    Attach PCC
                                </button>
                            </div>

                        </div>

                        <!-- PCC Modal -->
                        <div class="modal fade" id="attachPCCModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

                            <div class="modal-dialog modal-xl modal-dialog-scrollable">

                                <div class="modal-content">

                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="exampleModalLabel">All PCC</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>

                                    <div class="modal-body">

                                        <table class="table caption-top">

                                            <thead class="table-success">
                                            <tr>
                                                <th scope="col">#</th>
                                                <th scope="col">Id</th>
                                                <th scope="col">Title</th>
                                                <th scope="col">Description</th>
                                                <th scope="col">More</th>

                                            </tr>
                                            </thead>
                                            <tbody id="allPccTableBody">

                                            </tbody>

                                        </table>

                                    </div>

                                </div>

                            </div>

                        </div>

                    </caption>

                    <table class="table caption-top">
                        <thead class="table-success">
                        <tr>
                            <th scope="col">#</th>
                            <th scope="col">Id</th>
                            <th scope="col">Title</th>
                            <th scope="col">Description</th>

                        </tr>
                        </thead>

                        <tbody id="pccTableBody">

                        </tbody>
                    </table>
                </div>

            </div>

            <!-- Delete Modal -->
            <div class="modal fade" id="deleteProjectModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">

                        <div class="modal-body" style="text-align: center;">
                            <h6>Please Confirm to delete Project.</h6>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-success btn-sm" data-bs-dismiss="modal">NO</button>
                            <button onclick="deleteProject()" type="button" class="btn btn-danger btn-sm">Confirm</button>
                        </div>
                    </div>
                </div>
            </div>










            <script src="../js/bootstrap.bundle.min.js" ></script>
            <script src="../js/projectDetails.js" ></script>
        </body>

</html>